<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¹ãƒ©ã‚¤ãƒ‰è‡ªå‹•ã‚­ãƒ£ãƒ—ãƒãƒ£</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { color: #4472C4; text-align: center; }
        .slide-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .slide-box { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .slide-box h2 { margin-top: 0; color: #4472C4; border-bottom: 2px solid #4472C4; padding-bottom: 10px; }
        iframe { width: 100%; height: 600px; border: 1px solid #ccc; border-radius: 4px; }
        .status { padding: 20px; background: #e3f2fd; border-radius: 4px; margin-top: 20px; border-left: 4px solid #4472C4; }
        .status strong { color: #4472C4; }
        .info { background: #f0f0f0; padding: 10px; margin-top: 10px; border-radius: 4px; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ AIç”Ÿæˆã‚¹ãƒ©ã‚¤ãƒ‰ - ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç¢ºèª</h1>
        
        <div class="slide-container">
            <div class="slide-box">
                <h2>Slide 1: Tier1</h2>
                <p><strong>ã‚¿ã‚¤ãƒˆãƒ«:</strong> AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶ç´„ã¸ã®å¯¾å¿œï¼šã‚¹ã‚­ãƒ«åŒ–æˆ¦ç•¥</p>
                <p><strong>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:</strong> 6å€‹</p>
                <iframe id="iframe1" src="http://localhost:5000"></iframe>
                <button onclick="loadTier1()" style="width: 100%; padding: 10px; margin-top: 10px; background: #4472C4; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">ğŸ“¥ Tier1 ãƒ­ãƒ¼ãƒ‰</button>
                <div class="info">ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸã«Tier1ã‚¹ãƒ©ã‚¤ãƒ‰ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™</div>
            </div>
            
            <div class="slide-box">
                <h2>Slide 2: Tier2</h2>
                <p><strong>ã‚¿ã‚¤ãƒˆãƒ«:</strong> AI + äººé–“å”åƒï¼š3å±¤ãƒ•ãƒ­ãƒ¼</p>
                <p><strong>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:</strong> 18å€‹</p>
                <iframe id="iframe2" src="http://localhost:5000"></iframe>
                <button onclick="loadTier2()" style="width: 100%; padding: 10px; margin-top: 10px; background: #4472C4; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">ğŸ“¥ Tier2 ãƒ­ãƒ¼ãƒ‰</button>
                <div class="info">ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸã«Tier2ã‚¹ãƒ©ã‚¤ãƒ‰ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™</div>
            </div>
        </div>
        
        <div class="status">
            <strong>ğŸ“‹ ä½¿ç”¨æ–¹æ³•:</strong><br>
            1. å·¦ã®ã€ŒğŸ“¥ Tier1 ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Canvas ã« Tier1 ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>
            2. å³ã®ã€ŒğŸ“¥ Tier2 ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Canvas ã« Tier2 ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>
            3. ãã‚Œãã‚Œã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ã”ç¢ºèªãã ã•ã„
        </div>
    </div>
    
    <script>
        // Tier1 JSON ãƒ‡ãƒ¼ã‚¿
        const TIER1 = {
            "index": 1,
            "type": "content",
            "title": "AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶ç´„ã¸ã®å¯¾å¿œï¼šã‚¹ã‚­ãƒ«åŒ–æˆ¦ç•¥",
            "subtitle": "Tier 1 â†’ Recipe â†’ Tier 2 ã«åˆ†é›¢ã—ãŸç†ç”±",
            "objects": [
                {
                    "fill_color": "4472C4",
                    "font_color": "FFFFFF",
                    "font_size": 14,
                    "height": 0.9,
                    "left": 0.5,
                    "text": "AIã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶ç´„ã¸ã®å¯¾å¿œ\nã‚¹ã‚­ãƒ«åŒ–æˆ¦ç•¥",
                    "top": 0.3,
                    "type": "box",
                    "width": 4.3
                },
                {
                    "font_color": "404040",
                    "font_size": 11,
                    "height": 0.4,
                    "left": 0.5,
                    "text": "Tier 1 â†’ Recipe â†’ Tier 2 ã«åˆ†é›¢ã—ãŸç†ç”±",
                    "top": 1.3,
                    "type": "text",
                    "width": 4.3
                },
                {
                    "fill_color": "ED7D31",
                    "font_color": "FFFFFF",
                    "font_size": 12,
                    "height": 0.5,
                    "left": 0.5,
                    "text": "âŒ å¾“æ¥ã®èª²é¡Œ",
                    "top": 2.0,
                    "type": "box",
                    "width": 1.9
                },
                {
                    "font_color": "404040",
                    "font_size": 10,
                    "height": 1.5,
                    "left": 0.5,
                    "text": "â€¢ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶ç´„\n  (4K tokens)\n\nâ€¢ è¤‡é›‘ãªè¨ˆç”»ã‚’ä¸€åº¦ã«\n  å®Ÿè£…ä¸å¯\n\nâ€¢ å“è³ªã®ã°ã‚‰ã¤ã",
                    "top": 2.6,
                    "type": "text",
                    "width": 1.9
                },
                {
                    "fill_color": "4472C4",
                    "font_color": "FFFFFF",
                    "font_size": 12,
                    "height": 0.5,
                    "left": 3.3,
                    "text": "âœ… 3å±¤ãƒ•ãƒ­ãƒ¼åŒ–",
                    "top": 2.0,
                    "type": "box",
                    "width": 1.9
                },
                {
                    "font_color": "FFFFFF",
                    "font_size": 10,
                    "height": 1.5,
                    "left": 3.3,
                    "text": "â€¢ æ®µéšçš„è¨­è¨ˆ\n  (TieråŒ–)\n\nâ€¢ å„å±¤ã§æ©Ÿèƒ½ã‚’æœ€é©åŒ–\n  (Recipe)\n\nâ€¢ ä¸€è²«ã—ãŸå“è³ª",
                    "top": 2.6,
                    "type": "text",
                    "width": 1.9,
                    "fill_color": "4472C4"
                }
            ]
        };
        
        // Tier2 JSON ãƒ‡ãƒ¼ã‚¿
        const TIER2 = {
            "index": 1,
            "type": "content",
            "title": "AI + äººé–“å”åƒï¼š3å±¤ãƒ•ãƒ­ãƒ¼",
            "subtitle": "æ®µéšã”ã¨ã«å¿…è¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã‚’èª­ã¿è¾¼ã¾ã›ã‚‹ã“ã¨ã§ã€AIã®ç”Ÿæˆå“è³ªã‚’æœ€é©åŒ–ã™ã‚‹",
            "objects": [
                {"fill_color":"404040","font_color":"FFFFFF","font_size":11,"height":1.2,"left":0.5,"text":"Tier 1\næ§‹æˆè¨­è¨ˆ","top":1.8,"type":"box","width":1.0},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":11,"height":0.8,"left":1.7,"text":"outline_guide\næŒ‡å®š","top":1.8,"type":"box","width":1.4},
                {"fill_color":"ED7D31","height":0.3,"left":3.3,"top":2.05,"type":"arrow","width":0.5},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":11,"height":0.8,"left":4.0,"text":"AIãŒ\næ§‹æˆæ¡ˆã‚’\nç”Ÿæˆ","top":1.8,"type":"box","width":1.4},
                {"fill_color":"F2F2F2","font_color":"333333","font_size":9,"height":0.5,"left":0.5,"text":"å®šç¾©","top":3.1,"type":"box","width":1.0},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":9,"height":0.5,"left":1.7,"text":"å…¥åŠ›ãƒ†ãƒ³ãƒ—ãƒ¬","top":3.1,"type":"box","width":1.4},
                {"fill_color":"ED7D31","height":0.3,"left":3.3,"top":3.35,"type":"arrow","width":0.5},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":9,"height":0.5,"left":4.0,"text":"ã‚¹ãƒ©ã‚¤ãƒ‰å€™è£œ","top":3.1,"type":"box","width":1.4},
                {"fill_color":"404040","font_color":"FFFFFF","font_size":11,"height":1.2,"left":0.5,"text":"Tier 2\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„è©³ç´°","top":4.4,"type":"box","width":1.0},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":11,"height":0.8,"left":1.7,"text":"slide_recipe\næŒ‡å®š","top":4.4,"type":"box","width":1.4},
                {"fill_color":"ED7D31","height":0.3,"left":3.3,"top":4.65,"type":"arrow","width":0.5},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":11,"height":0.8,"left":4.0,"text":"æœ€çµ‚ã‚¹ãƒ©ã‚¤ãƒ‰\nç”Ÿæˆ","top":4.4,"type":"box","width":1.4},
                {"font_color":"1F3864","font_size":9,"height":2.0,"left":5.7,"text":"å„Tierã§ã®å‡¦ç†ï¼š\n\nTier 1:\n- æ§‹æˆè¨­è¨ˆ\n- outline_guide ã§\n  ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶å®š\n\nTier 2:","top":1.8,"type":"text","width":1.5},
                {"fill_color":"F2F2F2","font_color":"333333","font_size":9,"height":0.5,"left":0.5,"text":"æˆæœç‰©","top":3.1,"type":"box","width":1.0},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":9,"height":0.5,"left":1.7,"text":"ãƒ¬ã‚·ãƒ”&ãƒ†ãƒ³ãƒ—","top":3.1,"type":"box","width":1.4},
                {"fill_color":"ED7D31","height":0.3,"left":3.3,"top":3.35,"type":"arrow","width":0.5},
                {"fill_color":"4472C4","font_color":"FFFFFF","font_size":9,"height":0.5,"left":4.0,"text":"ã‚¹ãƒ©ã‚¤ãƒ‰JSON","top":3.1,"type":"box","width":1.4},
                {"font_color":"404040","font_size":9,"height":0.6,"left":5.7,"text":"ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’\næ®µéšçš„ã«é™å®š\nã—ã¦å“è³ªUP","top":3.8,"type":"text","width":1.5}
            ]
        };
        
        function loadTier1() {
            loadIntoIframe('iframe1', TIER1);
        }
        
        function loadTier2() {
            loadIntoIframe('iframe2', TIER2);
        }
        
        function loadIntoIframe(iframeId, slideData) {
            const iframe = document.getElementById(iframeId);
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // iframe å†…ã§ API ã‚’å‘¼ã³å‡ºã™
            const script = document.createElement('script');
            script.textContent = `
                fetch('/api/load-json', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(${JSON.stringify(slideData)})
                }).then(r => r.json()).then(data => {
                    if (data.success) {
                        console.log('ãƒ­ãƒ¼ãƒ‰å®Œäº†:', data);
                    } else {
                        console.error('ã‚¨ãƒ©ãƒ¼:', data.error);
                    }
                });
            `;
            
            // ã‚·ãƒ³ãƒ—ãƒ«ãªæ–¹æ³•ï¼šiframe ã® src ã‚’å†åº¦è¨­å®š
            iframe.src = 'http://localhost:5000?';
            
            setTimeout(() => {
                fetch('/api/load-json', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(slideData)
                }).then(r => r.json()).then(data => {
                    if (data.success) {
                        alert(slideData.title + '\nãƒ­ãƒ¼ãƒ‰å®Œäº†ï¼');
                    }
                });
            }, 500);
        }
    </script>
</body>
</html>
