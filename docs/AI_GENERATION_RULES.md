# 基本ルール: AI生成プロセスの絶対条件

## Rule 1: スキルは段階的に読む（必須）

**❌ ダメな例：**
- スキルを読まずに思いつきで JSON を作成する
- レシピ段階をスキップして直接 Tier 2 を書く
- デザイン原則を確認せずにオブジェクト配置をする

**✅ 正しいプロセス：**

1. **レシピ段階**
   - `skills/slide_recipe.md` からパターンを選定
   - パターンの説明・使い方を把握
   - tone / visual / body_points を理解

2. **デザイン段階**
   - `skills/design_principles.md` を読む
   - テンプレート固有の `design_guide.md` を読む
   - 色・フォント・座標ルールを確認

3. **参照段階**
   - 参照作品のレシピを確認
   - 参照作品の Tier 2 JSON を確認
   - パターン実装の具体例を学ぶ

4. **実装段階**
   - レシピ JSON を作成（Tier 1 は不要、レシピが design intent）
   - Tier 2 JSON を作成（座標・色・フォントを明示）
   - 生成・スクリーンショット取得
   - ユーザーが確認するまで先に進まない

---

## Rule 2: 1スライド完成まで次へ進まない

**❌ ダメな例：**
- スライド 0 が未検証のまま、スライド 1 を作る
- ユーザーからの指摘がないまま PPTX を生成する

**✅ 正しい流れ：**
1. スライド 0 のレシピ → Tier 2 → PPTX 生成 → スクリーンショット
2. **ユーザーが確認・承認するまで待つ**
3. スライド 0 が OK なら、スライド 1 へ進む
4. 以下同じ

---

## Rule 3: スキルを参照した根拠を明示する

**❌ ダメな例：**
- 「参照作品を踏襲した」とだけ言う
- 具体的にどのルールを適用したか説明しない

**✅ 正しい説明：**
- 「slide_recipe.md の 'swimlane_process' パターンを使用」
- 「参照作品 sx_ai_callcenter スライド 4『フェーズ別の実施ステップ』の構造に準拠」
- 「design_principles.md のボックス高さ設計ルール（1行 0.7-0.8 インチ）を適用」
- 「sx_proposal の design_guide.md で #404040（ラベル）、#F2F2F2（背景）を指定」

---

## Rule 4: AI側で検証してからユーザーに見せる

画面に見せる前に：
1. `validate_slide.py` で座標・色・フォント・オブジェクト数を確認
2. スクリーンショット取得して、テキストが背景内に収まっているか側面確認
3. デザイン原則チェック：
   - テキストが読める大きさか
   - ボックスが詰めすぎていないか
   - 全体バランスは取れているか

---

## 今回の失敗

- ❌ スライド 0 が未検証のまま、スライド 1 を作成した
- ❌ スキルを「読んだ」と言っても、実際には細かい原則を適用していない
- ❌ 「参照作品のレシピを踏襲」と言いながら、参照作品を詳しく確認しなかった
- ❌ スキルのデザイン原則（1行テキストの高さ・マージン等）を確認しなかった

---

## これから

1. **スライド 0 を再度ユーザーに見てもらう**（上記スクリーンショット）
2. **スライド 0 が OK になるまで、スライド 1 に進まない**
3. 各スライドで、スキルを参照した根拠を明示する
4. 実装前に必ず参照作品の具体例を確認する
